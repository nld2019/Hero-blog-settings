---
title: 'CWNA:802.11 MAC 体系结构'
date: 2022-02-14 15:25:22
tags: 'Wi-Fi'
---
包、帧与比特
数据链路层
> MAC服务数据单元
> MAC协议数据单元 

物理层
> PLCP服务数据单元
> PLCP协议数据单元

802.11与802.3互操作性
802.11 MAC 帧头
> 帧控制字段
> 持续时间/ID字段
> MAC寻址
> 序列控制字段
> QoS控制字段
> HT控制字段

802.11帧体
802.11帧尾
802.11状态机
管理帧
> 信标帧
> 身份验证帧
> 关联帧
> 重关联帧
> 取消关联帧
> 接触身份验证帧
> 行动帧

控制帧
> 确认帧
> 块确认帧
> 节电轮询帧
> RTS/CTS
> CTS-to-Self
> 保护机制

数据帧
> Qos数据帧与非Qos数据帧
> 不携带数据的数据帧

电源管理
> 遗留的电源管理机制
> WMM节电与非调度自动节电传输
> MIMO电源管理机制

### 包、帧与比特
对于802.11通信而言，主要目标就是在计算机设备之间传输用户数据。
当数据在计算机中处理完毕并准备从一台计算机发送到另一台计算机时，数据从OSI模型的上层向下传递至物理层，最终经由物理层传输给其他设备。
网络三层数据称为包
网络二层数据称为帧
物理层数据称为比特，数据最终以单比特的形式传输。比特是值为0或1的二进制数字，二进制数字是数字通信的基础。

### 数据链路层（网络二层）
包含两个子层：
802.2逻辑链路控制子层（LLC),所有802网络具有相同的LLC子层结构；
介质访问子层（MAC子层）， 802.11无线局域网通信位于MAC子层。

**MAC服务数据单元**
网络层将数据发送给数据链路层，数据在LLC子层后称为MAC服务数据单元（MSDU), 它有LLC子层以及第三~第七层信息构成。
802.11有3种主要的帧类型。
802.11管理帧和控制帧 不携带上层信息，
802.11数据帧携带MSDU净荷。

MSDU最大长度为2304字节，帧体的最大长度有MSDU最大长度与加密开销决定。

2009年获批的802.11n引入 聚合MAC服务数据单元（A-MSDU)的概念。 A-MSDU最大长度（3839或7935）

**MAC协议数据单元**
LLC子层向MAC子层发送MSDU时，将添加MAC帧头信息，封装后的MSDU称为MAC协议数据单元（MPDU），也就是802.11帧。

MPDU = MAC帧头 + 帧体 + 帧校验序列
MAC帧头： 帧控制、持续时间、MAC寻址、序列控制、Qos控制、HT控制等信息。
帧头： MSDU净荷在其中
帧校验序列： FCS包括32为循环容易校验，用于验证帧的完整性。

### 物理层
分为两个子层：
物理层会聚过程子层（PLCP）
物理介质相关子层（PMD）

MAC子层向 PLCP子层发送帧， PLCP子层创建 PLCP协议数据单元（PPDU）以便传输，PMD子层随后会调制数据并以比特形式发送出去。

**PLCP服务数据单元**
PLCP服务数据单元（PSDU）是物理层对MPDU的称谓。

**PLCP协议数据单元**
PPDU = 前同步码 + 物理层头部 + PSDU

信息在各层之间流动的过程


网络层（网络三层）
——————————————————————————————————————————————————————————————————————————————————————
数据链路层（第二层） LLC子层------------MSDU（第三~第七层数据）----------------LLC子层
                                    
------------------ MAC子层------------MSDU封装在MPDU中----------------------MAC子层
-------------------------------------添加或删除MAC帧头与帧尾
——————————————————————————————————————————————————————————————————————————————————————
物理层（第一层）--- PLCP子层-----------PSDU封装在 PPDU中---------------------PLCP子层
---------------------------------添加或删除前同步码与物理层头部
------------------ PMD子层-----------数据以比特形式传输----------------------PMD子层
